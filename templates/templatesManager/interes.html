{% extends 'templatesManager/base-admin.html' %}
{% load static %}

{% block title %}Personas interesadas{% endblock %}

{% block content %}

<h2 class="mb-4 mt-3">Notificación de interesados</h2>

<table class="table table-hover align-middle">
  <thead class="table-light">
    <tr>
      <th>Fecha</th>
      <th>Nombre</th>
      <th>Correo</th>
      <th>Teléfono</th>
      <th>Propiedad</th>
      <th class="text-end">Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for i in intereses %}
    <tr>
      <td>{{ i.creado|date:"d/m/Y" }}</td>
      <td>{{ i.cliente.nombreCliente }}</td>
      <td>{{ i.cliente.emailCliente }}</td>
      <td>{{ i.cliente.nTelefonoCliente }}</td>

      <td>
        <a href="{% url 'detalle-propiedad' i.propiedad.slug %}" class="text-decoration-none">
          {{ i.propiedad.titulo }}
        </a>
      </td>

      <td class="text-end">
        <button type="button" class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#modalEliminar{{ i.id }}">
          <i class="bi bi-trash3"></i> Eliminar
        </button>
      </td>
    </tr>
    {% include 'templatesManager/modal-eliminar.html' with item=i tipo="interes" url_name="eliminar-interes" %}
    {% empty %}
    <tr>
      <td colspan="6" class="text-center text-muted">No hay personas interesadas.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
